# 테크 홈 이노베이션 - 삑뽁삑(BBig BBog BBig)

> 자바/라즈베리파이의 통신을 통한 아파트 홈 제어앱 프로젝트
> 
> 
> 자바/라즈베리파이의 통신을 통한 아파트 홈 제어앱 프로젝트로 라즈베리파이 센서의 데이터를 중심으로, 전등 관리·LED ON/OFF, 커튼조작 서보모터 (ON/OFF), 부저경고음, 온/습도센서를 이용한 화재 감지, 인체 감지 센서를 통한 외출 중 침입자 감지 (사용자의 외출 설정 필요)
> 
> 
> 

---

## 📘 1. 프로젝트 개요

| 항목 | 내용 |
| --- | --- |
| **팀명** | 테크 홈 이노베이션 |
| **프로젝트명** | 삑뽁삑(BBig BBog BBig) [노건우, 안창석, 이다온] |
| **목표** | 라즈베리파이 센서 입력 데이터를 통합해 **내 아파트 정보/ 마트 물품구입 / 입주민 게시판 조회** 등을 콘솔로 제공 |
| **주요성과** | 입주민 커뮤니티 게시판, 마트 물품구입 요약 집계, 아파트 호수별 실시간 정보 콘솔 시각화 구축 |
| **기간** | 2025.10.21 – 2025.10.29 |
| **사용 센서 목록** | |
| **산출물** | 라즈베리파이 구현물 ,Java 앱, 데이터베이스 , PPT, README 문서 |

---

<br>

## 👥팀원 및 역할
---
| 이름 | 역할 및 담당 업무 | 개인 Git |
|:---:|:---:|:---:|
| <img src= "https://github.com/user-attachments/assets/17c996f7-4655-45fa-a7a0-47da3b7faa90" width= "120"/> <br> **이다온** | • 콘솔 UI구현 • DB 설계 및 디자인<br>•   | [GitHub](https://github.com/DaOn1072) |
| <img src= "https://github.com/user-attachments/assets/43d0bc5d-eb14-4091-bff7-c854a579794f" width= "130"/> <br> **노건우** | • 라즈베리파이 센서조작 • Python 데이터 연동<br>  | [GitHub]() |
| <img src= "https://github.com/user-attachments/assets/2b4f2bfb-f833-4f15-85cc-a42eed714ecc" width= "130" height= "120"/> <br> **안창석** | • 자바 MQTT통신구현 • 결과 발표 • 깃허브구축 및 설계 • PPT제작 <br> | [GitHub](https://github.com/AhnCSK) |

<br>

---

## 🗓️ 2. 프로젝트 일정

| 작업 항목 | 시작 날짜 | 종료 날짜 | 기간(일) |
| --- | --- | --- | --- |
| 프로젝트 정의 및 계획 수립/센서선택 | 2025-10-21 | 2025-10-21 | 1 |
| jdbc sql연동/센서입력구현 | 2025-10-21 | 2025-10-22 | 2 |
| 게시판완성 및 라즈베리와 통합 | 2025-10-23 | 2025-10-24 | 4 |
| 대시보드 레이아웃 설계 | 2025-10-25 | 2025-10-26 | 3 |
| 인사이트 시각화 구현 | 2025-10-27 | 2025-10-27 | 3 |
| 최종 점검 및 README 작성 | 2025-10-28 | 2025-10-28 | 3 |

---

## 🧩 3. 작업 분할 구조 (WBS)

### 1️⃣ 기획


## 🧾 4. 요구사항 정의서

### 💡 기능 요구사항

| 구분 | 설명 |
| --- | --- |
| **센서** |  |
| **테이블** |  |
| **자바** |  |
| **라즈베리** |  |

### ⚙️ 비기능 요구사항

| 항목 | 설명 |
| --- | --- |
| **시스템 안정성** | 1 |
| **성능** | 개선 목표 |
| **확장성** | 상품 추가 시 자동 업데이트 가능 구조 |
| **협업성** | 브랜치 전략 |

---

## 🧱 5. 프로젝트 설계서

### 🏗 시스템 아키텍처

🏗️ 최종 시스템 아키텍처 (MQTT + 로그인/회원가입 포함)

1. 사용자 콘솔 UI (Java App)

| 항목     | 설명                                                   |
| ------ | ---------------------------------------------------- |
| **역할** | 사용자 인터페이스 제공                                         |
| **기능** | 로그인/회원가입, 센서 조회, 제어 명령, 커뮤니티, 마트 확인 등                |
| **기술** | Java (Swing 또는 JavaFX), JDBC                         |
| **연동** | - MySQL DB (회원 정보, 데이터 조회)<br> - MQTT 브로커 (제어 명령 송신) |

                │
     [1] JDBC 요청 (회원 정보, 데이터 조회)
                │
                ▼


2. 데이터베이스 (MySQL)

| 항목     | 설명                                                    |
| ------ | ----------------------------------------------------- |
| **역할** | 시스템 전체 데이터 저장 및 조회                                    |
| **기능** | 회원, 센서로그, 제어기록, 게시판, 마트주문 정보 저장                       |
| **기술** | MySQL                                                 |
| **연동** | - Java 앱과 JDBC로 연결<br> - Raspberry Pi에서 센서 및 제어 로그 저장 |

| 주요 테이블        | 설명                         |
| ------------- | -------------------------- |
| `users`       | 사용자 ID, 비밀번호 hash, 세대 정보 등 |
| `sensor_logs` | 온도, 움직임 등 센서 로그            |
| `controls`    | 제어 이력 (LED, 문 등)           |
| `posts`       | 커뮤니티 게시판 글                 |
| `mart_orders` | 마트 구매 내역                   |

                 │
        [2] MQTT 메시지 송/수신
                 ▼


3. MQTT 브로커 (Mosquitto 등)

| 항목     | 설명                                                                              |
| ------ | ------------------------------------------------------------------------------- |
| **역할** | 센서 데이터 송신 및 제어 명령 중계                                                            |
| **기능** | MQTT 프로토콜을 통해 메시지 송수신                                                           |
| **기술** | MQTT (Mosquitto 등 브로커 사용)                                                       |
| **연동** | - Raspberry Pi ↔ 브로커 (센서 publish, 제어 subscribe)<br> - Java 앱 ↔ 브로커 (제어 publish) |


| 주요 토픽 예시                   | 설명         |
| -------------------------- | ---------- |
| `/home/sensor/temperature` | 온습도 센서 값   |
| `/home/sensor/motion`      | 인체감지 센서 상태 |
| `/home/control/led`        | LED 제어 명령  |
| `/home/control/servo`      | 서보모터 제어 명령 |
| `/home/control/buzzer`     | 부저 제어 명령   |


                 │
        [3] MQTT 메시지 처리
                 ▼

4. Raspberry Pi (Python)

| 항목     | 설명                                                  |
| ------ | --------------------------------------------------- |
| **역할** | 센서 데이터 수집 및 제어 장치 동작                                |
| **기능** | 센서 Publish, 제어 Subscribe, DB 저장                     |
| **기술** | Python, paho-mqtt, RPi.GPIO, MySQL Connector        |
| **연동** | - MQTT 브로커: 센서 데이터 전송 & 제어 명령 수신<br> - MySQL: 로그 저장 |


| 하드웨어 구성     | 동작 설명                   |
| ----------- | ----------------------- |
| 온습도 센서      | 온도/습도 측정 → MQTT Publish |
| PIR 센서      | 움직임 감지 → MQTT Publish   |
| LED, 서보, 부저 | MQTT 수신 시 GPIO로 제어      |




🔐 로그인 / 회원가입 플로우

회원가입

사용자가 콘솔 앱에서 ID, 비밀번호 입력 → Java 앱에서 DB로 전송

비밀번호는 해시화(예: SHA-256, BCrypt 등)하여 저장

성공 시, 사용자 고유 정보(세대번호 등)도 등록

로그인

입력된 ID/PW → DB에서 조회 및 해시 비교

성공 시 세션 생성 (간단한 사용자 상태 유지 가능)

회원 정보 기반 기능 연동

로그인된 사용자만 제어 기능/게시판/마트 조회 가능

각 사용자별 데이터 필터링: 세대별 센서 상태, 내 구매 내역 등


💡 데이터 흐름 요약

| 기능            | 흐름                                                               |
| ------------- | ---------------------------------------------------------------- |
| **회원가입**      | Java 앱 → JDBC → DB `users` 테이블                                   |
| **로그인**       | Java 앱 → DB 비밀번호 검증 → 성공 시 사용자 세션 유지                             |
| **센서 이벤트 감지** | Raspberry Pi → MQTT Publish → Java App Subscribe → 콘솔 출력 + DB 저장 |
| **장치 제어**     | Java 앱 → MQTT Publish → Raspberry Pi Subscribe → 제어 실행           |
| **데이터 저장**    | Raspberry Pi / Java → MySQL (로그 저장, 게시글 저장 등)                    |


### 🧰 기술 스택
| 계층          | 기술 / 도구                                 |
| ----------- | --------------------------------------- |
| UI (사용자 콘솔) | Java 콘솔 앱                               |
| 사용자 인증      | Java + JDBC + MySQL (`users` 테이블)       |
| 통신 계층       | MQTT (Mosquitto 브로커)                    |
| IoT 제어      | Raspberry Pi + Python + GPIO            |
| DB 계층       | MySQL (회원, 센서, 게시판, 구매 로그 등)            |
| MQTT 라이브러리  | Eclipse Paho (Java, Python 클라이언트 모두 지원) |


📌 구조 특징 요약

✅ 로그인 기반 사용자 식별
✅ MQTT로 IoT 장치 실시간 제어/수신
✅ Java ↔ DB 연동으로 사용자 맞춤형 기능 제공
✅ Raspberry Pi에서 센서 상태 지속 감지 및 전송
✅ 보안 기능 강화 가능 (비밀번호 해시, 외출모드)


### 🧮 데이터 테이블 설계

| 데이터 흐름 | 주요 단계 |
| --- | --- |
| 데이터1 | 1 |
| 데이터2 | 컬럼 표준화, 정제 |
| 요약 데이터 | 테이블 생성 (거래량, 평균가, 모멘텀 등) |
| 데이터4 | 지표 계산 |
| 데이터1 |  탭별 대시보드 구현 |

**핵심 컬럼 구조**

- 데이터 유형: 정량(가격·면적·거래량·모멘텀), 정성(유형·지역·계약구분)
- 매매: `시군구`, `계약일`, `거래금액(만원)`, `면적(㎡)`, `건축년도`, `유형`, `층`
- 전월세: `시군구`, `계약일`, `보증금(만원)`, `월세(만원)`, `면적(㎡)`, `전월세구분`, `계약구분`

---




---

### ⚠️ 문제 및 해결 방안

| 문제 | 원인 | 해결 방안 |
| --- | --- | --- |
| **문제1** | 비아파트 거래·도로명 주소 누락 | 조건부 플래그 처리, 중앙값 보완 |
| **문제2** | 유형별 데이터 불균형 | 층화 샘플링(유형+시군구) 도입 |
| **문제3** | CSV 로딩 지연 | 파켓 포맷 변환 + 요약 집계 사용 |
| **문제4** | 신규 데이터 월별 추가 필요 | ETL 자동화 및 Git versioning |
| **문제5** | 신규 데이터 월별 추가 필요 | ETL 자동화 및 Git versioning |
| **문제6** | 신규 데이터 월별 추가 필요 | ETL 자동화 및 Git versioning |

---

## 🎯 



---



---

## 🧾 참고문서

- https://koreascience.kr/article/JAKO201532742223692.pdf
- https://wnsgml972.github.io/mqtt/2018/03/05/mqtt/
- https://www.sci-gifted-festival.kr/data/file/pro1/3552203508_Mh2AiI5l_eed8d51609c9c514a6cfbf297243a00a988c8fd9.pdf
- https://github.com/suryamurugan/MQTT-to-MYSQL-DB---Python-
- https://koreascience.kr/article/CFKO202433162507491.view
- https://machbase.medium.com/about-mqtt-30600ec1cbe9
- https://techblog.woowahan.com/2540/
